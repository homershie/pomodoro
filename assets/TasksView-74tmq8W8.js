import{g as le,p as ne,t as j,u as ae,c as i,w as fe,v as Pe,a as n,n as te,b as H,M as Ne,m as Le,d as ve,V as Ae,e as De,f as Ee,h as We,i as Oe,j as Me,k as R,r as W,l as Ue,o as qe,q as ze,L as Ke,s as je,F as A,x as ee,y as He,z as Xe,A as Ye,E as oe,I as re,B as Ge,C as Je,D as ge,G as Qe,H as Ze,J as et,K as be,N as tt,_ as lt,O as nt,P as ye,Q as xe,R as y,S as at,T as V,U as K,W as z,X as se,Y as L,Z as p,$ as Ce,a0 as B,a1 as _e,a2 as Ve}from"./index-CrApL6dY.js";import{V as it,m as ot,u as Se,a as rt,b as ke,c as st,d as we}from"./VInput-CZZMkhnh.js";class ue{constructor(a){let{x:o,y:s,width:t,height:l}=a;this.x=o,this.y=s,this.width=t,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ut(e){const a=e.getBoundingClientRect(),o=getComputedStyle(e),s=o.transform;if(s){let t,l,u,f,m;if(s.startsWith("matrix3d("))t=s.slice(9,-1).split(/, /),l=Number(t[0]),u=Number(t[5]),f=Number(t[12]),m=Number(t[13]);else if(s.startsWith("matrix("))t=s.slice(7,-1).split(/, /),l=Number(t[0]),u=Number(t[3]),f=Number(t[4]),m=Number(t[5]);else return new ue(a);const c=o.transformOrigin,d=a.x-f-(1-l)*parseFloat(c),r=a.y-m-(1-u)*parseFloat(c.slice(c.indexOf(" ")+1)),x=l?a.width/l:e.offsetWidth+1,h=u?a.height/u:e.offsetHeight+1;return new ue({x:d,y:r,width:x,height:h})}else return new ue(a)}function dt(e,a,o){if(typeof e.animate>"u")return{finished:Promise.resolve()};let s;try{s=e.animate(a,o)}catch{return{finished:Promise.resolve()}}return typeof s.finished>"u"&&(s.finished=new Promise(t=>{s.onfinish=()=>{t(s)}})),s}const ct="cubic-bezier(0.4, 0, 0.2, 1)",ft=ne({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ve(),...Le({transition:{component:Ae}})},"VCounter"),vt=le()({name:"VCounter",functional:!0,props:ft(),setup(e,a){let{slots:o}=a;const s=j(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ae(()=>i(Ne,{transition:e.transition},{default:()=>[fe(n("div",{class:H(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:te(e.style)},[o.default?o.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[Pe,e.active]])]})),{}}}),mt=ne({floating:Boolean,...ve()},"VFieldLabel"),Z=le()({name:"VFieldLabel",props:mt(),setup(e,a){let{slots:o}=a;return ae(()=>i(it,{class:H(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:te(e.style),"aria-hidden":e.floating||void 0},o)),{}}}),ht=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],pe=ne({appendInnerIcon:re,bgColor:String,clearable:Boolean,clearIcon:{type:re,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:re,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ht.includes(e)},"onClick:clear":oe(),"onClick:appendInner":oe(),"onClick:prependInner":oe(),...ve(),...Ye(),...Xe(),...He()},"VField"),Ie=le()({name:"VField",inheritAttrs:!1,props:{id:String,...ot(),...pe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:o,emit:s,slots:t}=a;const{themeClasses:l}=De(e),{loaderClasses:u}=Ee(e),{focusClasses:f,isFocused:m,focus:c,blur:d}=Se(e),{InputIcon:r}=rt(e),{roundedClasses:x}=We(e),{rtlClasses:h}=Oe(),D=j(()=>e.dirty||e.active),T=j(()=>!!(e.label||t.label)),O=j(()=>!e.singleLine&&T.value),M=Me(),k=R(()=>e.id||`input-${M}`),X=j(()=>`${k.value}-messages`),Y=W(),U=W(),v=W(),g=R(()=>["plain","underlined"].includes(e.variant)),C=R(()=>e.error||e.disabled?void 0:D.value&&m.value?e.color:e.baseColor),_=R(()=>{if(!(!e.iconColor||e.glow&&!m.value))return e.iconColor===!0?C.value:e.iconColor}),{backgroundColorClasses:me,backgroundColorStyles:ie}=Ue(()=>e.bgColor),{textColorClasses:G,textColorStyles:$}=qe(C);ze(D,F=>{if(O.value){const I=Y.value.$el,P=U.value.$el;requestAnimationFrame(()=>{const S=ut(I),b=P.getBoundingClientRect(),E=b.x-S.x,q=b.y-S.y-(S.height/2-b.height/2),N=b.width/.75,Q=Math.abs(N-S.width)>1?{maxWidth:Ge(N)}:void 0,Be=getComputedStyle(I),he=getComputedStyle(P),Re=parseFloat(Be.transitionDuration)*1e3||150,Te=parseFloat(he.getPropertyValue("--v-field-label-scale")),$e=he.getPropertyValue("color");I.style.visibility="visible",P.style.visibility="hidden",dt(I,{transform:`translate(${E}px, ${q}px) scale(${Te})`,color:$e,...Q},{duration:Re,easing:ct,direction:F?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),P.style.removeProperty("visibility")})})}},{flush:"post"});const w=R(()=>({isActive:D,isFocused:m,controlRef:v,blur:d,focus:c}));function J(F){F.target!==document.activeElement&&F.preventDefault()}return ae(()=>{var E,q,N;const F=e.variant==="outlined",I=!!(t["prepend-inner"]||e.prependInnerIcon),P=!!(e.clearable||t.clear)&&!e.disabled,S=!!(t["append-inner"]||e.appendInnerIcon||P),b=()=>t.label?t.label({...w.value,label:e.label,props:{for:k.value}}):e.label;return n("div",ee({class:["v-field",{"v-field--active":D.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!g.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!b(),[`v-field--variant-${e.variant}`]:!0},l.value,me.value,f.value,u.value,x.value,h.value,e.class],style:[ie.value,e.style],onClick:J},o),[n("div",{class:"v-field__overlay"},null),i(Ke,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),I&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&i(r,{key:"prepend-icon",name:"prependInner",color:_.value},null),(E=t["prepend-inner"])==null?void 0:E.call(t,w.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&O.value&&i(Z,{key:"floating-label",ref:U,class:H([G.value]),floating:!0,for:k.value,style:te($.value)},{default:()=>[b()]}),T.value&&i(Z,{key:"label",ref:Y,for:k.value},{default:()=>[b()]}),((q=t.default)==null?void 0:q.call(t,{...w.value,props:{id:k.value,class:"v-field__input","aria-describedby":X.value},focus:c,blur:d}))??n("div",{id:k.value,class:"v-field__input","aria-describedby":X.value},null)]),P&&i(je,{key:"clear"},{default:()=>[fe(n("div",{class:"v-field__clearable",onMousedown:Q=>{Q.preventDefault(),Q.stopPropagation()}},[i(Je,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...w.value,props:{onFocus:c,onBlur:d,onClick:e["onClick:clear"],tabindex:-1}}):i(r,{name:"clear",onFocus:c,onBlur:d,tabindex:-1},null)]})]),[[Pe,e.dirty]])]}),S&&n("div",{key:"append",class:"v-field__append-inner"},[(N=t["append-inner"])==null?void 0:N.call(t,w.value),e.appendInnerIcon&&i(r,{key:"append-icon",name:"appendInner",color:_.value},null)]),n("div",{class:H(["v-field__outline",G.value]),style:te($.value)},[F&&n(A,null,[n("div",{class:"v-field__outline__start"},null),O.value&&n("div",{class:"v-field__outline__notch"},[i(Z,{ref:U,floating:!0,for:k.value},{default:()=>[b()]})]),n("div",{class:"v-field__outline__end"},null)]),g.value&&O.value&&i(Z,{ref:U,floating:!0,for:k.value},{default:()=>[b()]})])])}),{controlRef:v,fieldIconColor:_}}}),de=Symbol("Forwarded refs");function ce(e,a){let o=e;for(;o;){const s=Reflect.getOwnPropertyDescriptor(o,a);if(s)return s;o=Object.getPrototypeOf(o)}}function gt(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];return e[de]=o,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const u of o)if(u.value&&Reflect.has(u.value,l)){const f=Reflect.get(u.value,l);return typeof f=="function"?f.bind(u.value):f}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const u of o)if(u.value&&Reflect.has(u.value,l))return!0;return!1},set(t,l,u){if(Reflect.has(t,l))return Reflect.set(t,l,u);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const f of o)if(f.value&&Reflect.has(f.value,l))return Reflect.set(f.value,l,u);return!1},getOwnPropertyDescriptor(t,l){var f;const u=Reflect.getOwnPropertyDescriptor(t,l);if(u)return u;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const m of o){if(!m.value)continue;const c=ce(m.value,l)??("_"in m.value?ce((f=m.value._)==null?void 0:f.setupState,l):void 0);if(c)return c}for(const m of o){const c=m.value&&m.value[de];if(!c)continue;const d=c.slice();for(;d.length;){const r=d.shift(),x=ce(r.value,l);if(x)return x;const h=r.value&&r.value[de];h&&d.push(...h)}}}}})}const bt=["color","file","time","date","datetime-local","week","month"],yt=ne({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...st(),...pe()},"VTextField"),Fe=le()({name:"VTextField",directives:{vIntersect:ge},inheritAttrs:!1,props:yt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:o,emit:s,slots:t}=a;const l=Qe(e,"modelValue"),{isFocused:u,focus:f,blur:m}=Se(e),c=R(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),d=R(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),r=R(()=>["plain","underlined"].includes(e.variant));function x(v,g){var C,_;!e.autofocus||!v||(_=(C=g[0].target)==null?void 0:C.focus)==null||_.call(C)}const h=W(),D=W(),T=W(),O=R(()=>bt.includes(e.type)||e.persistentPlaceholder||u.value||e.active);function M(){var v;T.value!==document.activeElement&&((v=T.value)==null||v.focus()),u.value||f()}function k(v){s("mousedown:control",v),v.target!==T.value&&(M(),v.preventDefault())}function X(v){M(),s("click:control",v)}function Y(v,g){v.stopPropagation(),M(),be(()=>{l.value=null,g(),tt(e["onClick:clear"],v)})}function U(v){var C;const g=v.target;if(l.value=g.value,(C=e.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(e.type)){const _=[g.selectionStart,g.selectionEnd];be(()=>{g.selectionStart=_[0],g.selectionEnd=_[1]})}}return ae(()=>{const v=!!(t.counter||e.counter!==!1&&e.counter!=null),g=!!(v||t.details),[C,_]=Ze(o),{modelValue:me,...ie}=ke.filterProps(e),G=Ie.filterProps(e);return i(ke,ee({ref:h,modelValue:l.value,"onUpdate:modelValue":$=>l.value=$,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":r.value},e.class],style:e.style},C,ie,{centerAffix:!r.value,focused:u.value}),{...t,default:$=>{let{id:w,isDisabled:J,isDirty:F,isReadonly:I,isValid:P,reset:S}=$;return i(Ie,ee({ref:D,onMousedown:k,onClick:X,"onClick:clear":b=>Y(b,S),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},G,{id:w.value,active:O.value||F.value,dirty:F.value||e.dirty,disabled:J.value,focused:u.value,error:P.value===!1}),{...t,default:b=>{let{props:{class:E,...q}}=b;const N=fe(n("input",ee({ref:T,value:l.value,onInput:U,autofocus:e.autofocus,readonly:I.value,disabled:J.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:M,onBlur:m},q,_),null),[[ge,{handler:x},null,{once:!0}]]);return n(A,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?n("div",{class:H(E),"data-no-activator":""},[t.default(),N]):et(N,{class:E}),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:g?$=>{var w;return n(A,null,[(w=t.details)==null?void 0:w.call(t,$),v&&n(A,null,[n("span",null,null),i(vt,{active:e.persistentCounter||u.value,value:c.value,max:d.value,disabled:e.disabled},t.counter)])])}:void 0})}),gt({},h,D,T)}}),xt={key:0},Ct={key:1},_t={key:0},Vt={__name:"TasksView",setup(e){const a=nt(),o=W(""),s=ye("inputField"),t=ye("editField"),l={required:c=>!!c||"此欄位為必填",length:c=>c.length<=20&&c.length>=3||"長度必須大於3個字，不超過20個字"},u=()=>{s.value.isValid&&(a.addTask(o.value),o.value="")},f=(c,d)=>{t.value[d].isValid&&a.submitEdit(c)},m=c=>{a.cancelEdit(c)};return(c,d)=>(V(),xe(at,null,{default:y(()=>[i(K,null,{default:y(()=>[i(z,{cols:"12"},{default:y(()=>d[1]||(d[1]=[n("h1",{class:"text-secondary"},"未完成",-1)])),_:1,__:[1]})]),_:1}),i(K,null,{default:y(()=>[i(z,{cols:"11"},{default:y(()=>[i(Fe,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),"prepend-inner-icon":"mdi-plus",clearable:"",label:"新增事項",rules:[l.required,l.length],onKeyup:se(u,["enter"]),ref_key:"inputField",ref:s,color:"secondary",variant:"outlined","validate-on-blur":""},null,8,["modelValue","rules"])]),_:1}),i(z,{cols:"1"},{default:y(()=>[i(L,{class:"addBtn",text:"新增",onClick:u,color:"secondary",variant:"elevated"})]),_:1})]),_:1}),i(K,null,{default:y(()=>[i(z,{cols:"12"},{default:y(()=>[i(we,null,{default:y(()=>[d[3]||(d[3]=n("thead",null,[n("tr",null,[n("th",null,"事項"),n("th",null,"操作")])],-1)),n("tbody",null,[B(a).items.length===0?(V(),p("tr",xt,d[2]||(d[2]=[n("td",{colspan:"2",class:"text-center"},"沒有待辦事項",-1)]))):Ce("",!0),(V(!0),p(A,null,_e(B(a).items,(r,x)=>(V(),p("tr",{key:r.id},[n("td",null,[r.edit?(V(),xe(Fe,{key:0,modelValue:r.model,"onUpdate:modelValue":h=>r.model=h,rules:[l.required,l.length],autofocus:"",ref_for:!0,ref_key:"editField",ref:t,onKeyup:[se(h=>f(r,x),["enter"]),se(h=>m(r),["esc"])]},null,8,["modelValue","onUpdate:modelValue","rules","onKeyup"])):(V(),p("span",Ct,Ve(r.text),1))]),n("td",null,[r.edit?(V(),p(A,{key:0},[i(L,{icon:"mdi-check",onClick:h=>f(r,x)},null,8,["onClick"]),i(L,{icon:"mdi-undo",onClick:h=>m(r)},null,8,["onClick"])],64)):(V(),p(A,{key:1},[i(L,{icon:"mdi-check-circle",onClick:h=>B(a).completeTask(r)},null,8,["onClick"]),i(L,{icon:"mdi-pencil",onClick:h=>B(a).editTask(r)},null,8,["onClick"]),i(L,{icon:"mdi-delete",onClick:h=>B(a).deleteTask(r)},null,8,["onClick"])],64))])]))),128))])]),_:1,__:[3]})]),_:1})]),_:1}),i(K,null,{default:y(()=>[i(z,{cols:"12"},{default:y(()=>d[4]||(d[4]=[n("h1",{class:"text-secondary"},"已完成",-1)])),_:1,__:[4]})]),_:1}),i(K,null,{default:y(()=>[i(z,{cols:"12"},{default:y(()=>[i(we,null,{default:y(()=>[d[6]||(d[6]=n("thead",null,[n("tr",null,[n("th",null,"事項"),n("th",null,"操作")])],-1)),n("tbody",null,[B(a).finishedTasks.length===0?(V(),p("tr",_t,d[5]||(d[5]=[n("td",{colspan:"2"},"沒有事項",-1)]))):Ce("",!0),(V(!0),p(A,null,_e(B(a).finishedTasks,r=>(V(),p("tr",{key:r.id},[n("td",null,Ve(r.text),1),n("td",null,[i(L,{icon:"mdi-restore",onClick:x=>B(a).restoreTask(r.id)},null,8,["onClick"]),i(L,{icon:"mdi-delete",onClick:x=>B(a).delFinishedItem(r.id)},null,8,["onClick"])])]))),128))])]),_:1,__:[6]})]),_:1})]),_:1})]),_:1}))}},It=lt(Vt,[["__scopeId","data-v-ed1b3f1f"]]);export{It as default};
