import{_ as E,u as K,r as S,a as T,c as b,w as s,V as q,o,b as e,d as f,e as m,f as t,g as y,h as c,i,j as F,k as a,F as p,l as $,t as B}from"./index-_3XLc9Ep.js";import{V as j,a as w}from"./VTextField-C21wWPLJ.js";const N={key:0},U={key:1},I={key:0},R={__name:"TasksView",setup(A){const d=K(),x=S(""),V=T("inputField"),C=T("editField"),k={required:u=>!!u||"此欄位為必填",length:u=>u.length<=20&&u.length>=3||"長度必須大於3個字，不超過20個字"},v=()=>{V.value.isValid&&(d.addTask(x.value),x.value="")},g=(u,n)=>{C.value[n].isValid&&d.submitEdit(u)},h=u=>{d.cancelEdit(u)};return(u,n)=>(o(),b(q,null,{default:s(()=>[e(f,{class:"justify-center"},{default:s(()=>[e(m,{xxl:"8",xl:"8",lg:"10",md:"10",sm:"12",xs:"12"},{default:s(()=>n[1]||(n[1]=[t("h1",{class:"text-secondary"},"未完成",-1)])),_:1,__:[1]})]),_:1}),e(f,{class:"justify-center"},{default:s(()=>[e(m,{xxl:"7",xl:"7",lg:"9",md:"9",sm:"12",xs:"12"},{default:s(()=>[e(j,{modelValue:x.value,"onUpdate:modelValue":n[0]||(n[0]=l=>x.value=l),"prepend-inner-icon":"mdi-plus",clearable:"",label:"新增事項",rules:[k.required,k.length],onKeyup:y(v,["enter"]),ref_key:"inputField",ref:V,color:"secondary",variant:"outlined","validate-on-blur":""},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"1"},{default:s(()=>[e(c,{class:"addBtn",text:"新增",onClick:v,color:"secondary",variant:"elevated"})]),_:1})]),_:1}),e(f,{class:"justify-center"},{default:s(()=>[e(m,{xxl:"8",xl:"8",lg:"10",md:"10",sm:"12",xs:"12"},{default:s(()=>[e(w,null,{default:s(()=>[n[3]||(n[3]=t("thead",null,[t("tr",null,[t("th",null,"事項"),t("th",null,"操作")])],-1)),t("tbody",null,[a(d).items.length===0?(o(),i("tr",N,n[2]||(n[2]=[t("td",{colspan:"2",class:"text-center"},"沒有待辦事項",-1)]))):F("",!0),(o(!0),i(p,null,$(a(d).items,(l,_)=>(o(),i("tr",{key:l.id},[t("td",null,[l.edit?(o(),b(j,{key:0,modelValue:l.model,"onUpdate:modelValue":r=>l.model=r,rules:[k.required,k.length],autofocus:"",ref_for:!0,ref_key:"editField",ref:C,onKeyup:[y(r=>g(l,_),["enter"]),y(r=>h(l),["esc"])]},null,8,["modelValue","onUpdate:modelValue","rules","onKeyup"])):(o(),i("span",U,B(l.text),1))]),t("td",null,[l.edit?(o(),i(p,{key:0},[e(c,{icon:"mdi-check",onClick:r=>g(l,_)},null,8,["onClick"]),e(c,{icon:"mdi-undo",onClick:r=>h(l)},null,8,["onClick"])],64)):(o(),i(p,{key:1},[e(c,{icon:"mdi-check-circle",onClick:r=>a(d).completeTask(l)},null,8,["onClick"]),e(c,{icon:"mdi-pencil",onClick:r=>a(d).editTask(l)},null,8,["onClick"]),e(c,{icon:"mdi-delete",onClick:r=>a(d).deleteTask(l)},null,8,["onClick"])],64))])]))),128))])]),_:1,__:[3]})]),_:1})]),_:1}),e(f,{class:"justify-center"},{default:s(()=>[e(m,{xxl:"8",xl:"8",lg:"10",md:"10",sm:"12",xs:"12"},{default:s(()=>n[4]||(n[4]=[t("h1",{class:"text-secondary"},"已完成",-1)])),_:1,__:[4]})]),_:1}),e(f,{class:"justify-center"},{default:s(()=>[e(m,{xxl:"8",xl:"8",lg:"10",md:"10",sm:"12",xs:"12"},{default:s(()=>[e(w,null,{default:s(()=>[n[6]||(n[6]=t("thead",null,[t("tr",null,[t("th",null,"事項"),t("th",null,"操作")])],-1)),t("tbody",null,[a(d).finishedTasks.length===0?(o(),i("tr",I,n[5]||(n[5]=[t("td",{colspan:"2"},"沒有事項",-1)]))):F("",!0),(o(!0),i(p,null,$(a(d).finishedTasks,l=>(o(),i("tr",{key:l.id},[t("td",null,B(l.text),1),t("td",null,[e(c,{icon:"mdi-restore",onClick:_=>a(d).restoreTask(l.id)},null,8,["onClick"]),e(c,{icon:"mdi-delete",onClick:_=>a(d).delFinishedItem(l.id)},null,8,["onClick"])])]))),128))])]),_:1,__:[6]})]),_:1})]),_:1})]),_:1}))}},z=E(R,[["__scopeId","data-v-2db141fd"]]);export{z as default};
